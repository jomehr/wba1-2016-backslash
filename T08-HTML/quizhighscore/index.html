<!DOCTYPE html>
<html>
<!-- AUFRUFPARAMETER BEACHTEN!! aufruf mit link ?quizId=1 oder 0 oder x-->

	<head>
		<title>Schlussscreen</title>
		<link rel="stylesheet" href="./css/style.css">
		<link rel="stylesheet" href="./T09-CSS/style.css">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>
	<body style="background: lightgrey; max-width: 1000px; margin: 0 auto;">
		<div class="ss_box">
			<header class="bg-yellow">
				<h1>Effzeh - mer wesse alles üvver dich</h1>
			</header>
			<div class="ss_erg ss_box_content row">
				<div class="ss_left col-md-8 col-xs-12">
					<h2 style="margin-top: 0px;">Dein Ergebnis</h2>
					<div class="ss_score row">
						<div class="ss_score_sp col-md-7 col-xs-12">
							<p class="ss_mobile_points_txt"></p>
							<div class="ss_score_balken bg-mediumgrey">
								<div class="ss_scale_score" style="width: 60%;">
								</div>
							</div>
							<p class="ss_mobile_answer_txt"></p>
							<div class="ss_score_points">
								<div class="ss_score_point bg-red"></div>
								<div class="ss_score_point bg-green"></div>
								<div class="ss_score_point bg-green"></div>
								<div class="ss_score_point bg-red"></div>
								<div class="ss_score_point bg-green"></div>
								<div class="ss_score_point bg-green"></div>
								<div class="ss_score_point bg-red"></div>
								<div class="ss_score_point bg-red"></div>
								<div class="ss_score_point bg-green"></div>
								<div class="ss_score_point bg-green"></div>
							</div>
						</div>

						<div class="ss_score_txt col-md-5">
							<p>600 von 1000 Punkten</p>
							<p>6 von 10 Antworten richtig</p>
						</div>
					</div>
					<p>Ich will mehr zu diesem Thema wissen</p>
					<div class="ss_scoreboard">
						<p>Neue Position</p>
						<div id=highscore_handlebars>
						</div>
					</div>
				</div>
				<div class="ss_right col-md-4 col-xs-12">
					<figure>
						<img src="img/Fan1-Groß.jpg" alt="Fan1-Groß.jpg" class="img-responsive" />
						<figcaption>
							<p>Das FC-Quizz schlecht hin. Der wahre FC Fan
							beantwortet diese Fragen im Schlaf. Dabei
							handelt es sich nicht nur um Fragen zur
							Fußballerischen Geschichte des Vereins,
							denn der FC hat auch außerhalb des Platzes
							eine große Geschichte. Mit diesem Quizz
							kannst du dein Wissen über den besten
							Verein der Welt testen. Los  geht's!</p>
						</figcaption>
					</figure>
				</div>
			</div>
			<div class="ss_buttons ss_box_content row">
				<div class="col-md-4">
					<input type="button" value="Übersicht" />
				</div>
				<div class="col-md-4">
					<input type="button" value="Highscoreliste" />
				</div>
				<div class="col-md-4">
					<input type="button" value="Jetzt spielen!" />
				</div>
			</div>
		</div>
		<div class="ss_box">
			<h2 style="text-align: center; padding-top: 24px;">Das könnte dir auch gefallen</h2>
			<div class="ss_slider_content row">
				<div class="col-md-4">
					<h2>Das Stadion Quizz</h2>
					<img class="img-responsive" src="img/Stadion10-Groß.jpg" alt="Stadion10-Groß.jpg" />
				</div>
				<div class="col-md-6 ss_slider_text">
					<p>Die größten, bedeutendsten, modernsten und
					wichtigsten Stadien der Welt. Kaum etwas ist
					bei großen Vereinen so bedeutend wie das
					Stadion. Es ist nicht nur ein Statussymbol für
					jeden erfolgreichen Verein, sondern oft auch
					ein Denkmal für große Ereignisse in der
					Historie eines Vereins. Hier findest Fragen
					zu den Stadien der Welt. Auf geht's!</p>
					<div class="ss_slider_author font-bold">
						17.06.2016<br />
						Hennes48
					</div>
				</div>
				<div class="col-md-2 ss_slider_right">
					<p><span class="font-bold">67</span> mal gespielt</p>
					<div class="ss_slider_points fg-white bg-darkgrey font-bold">8 / 10 Punkten</div>
					<input type="button" value="Jetzt spielen!" />
				</div>
			</div>
			<div class="ss_slider_menu">
				<div class="ss_slider_menu_elemente">
					<div class="ss_slider_menu_left font-bold">&lt;</div>
					<div class="ss_slider_bt "></div>
					<div class="ss_slider_bt"></div>
					<div class="ss_slider_bt"></div>
					<div class="ss_slider_menu_right font-bold">&gt;</div>
				</div>
			</div>
		</div>
		<script type="text/javascript" src="js/script.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script><!-- online handlebars.js-->
		<script src="https://rawgit.com/th-koeln/wba1-2016-backslash/master/T13-Datenstruktur_Content/API/BS_API.js"></script>

		<!-- highscore template
		-->

		<script id="highscore-template" type="text/x-handlebars-template">
			<table class="font-bold table">
					{{#each highscore}}
						<tr>
							<td>{{this.position}}</td>
							<td>{{this.name}}</td>
							<td>{{this.punktzahl}} Punkte</td>
						</tr>
					{{/each}}
			</table>
		</script>

		<!--
		Highscore fill Funktion
		-->
		<script type="text/javascript">
			var getQueryString = function (field, url) {
			var href = url ? url : window.location.href;
			var reg = new RegExp('[?&]' + field + '=([^&#]*)', 'i');
			var string = reg.exec(href);
			return string ? string[1] : null;
			};

			$(function() {
				var quizID = getQueryString('quizId', window.location.href);
				getHighscoreByID(quizID);
				$(document).on( "onHighscoreData", function( event, data ) {
					console.log(data);
					var HighscoreJson=JSON.parse(data);
					console.log(HighscoreJson);
					var source =$("#highscore-template").html();
					var template = Handlebars.compile(source);
					$('#highscore_handlebars').append(template(HighscoreJson));
				});
			});
		</script>

	</body>
</html>
